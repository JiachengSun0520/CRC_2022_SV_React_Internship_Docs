<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Cascading - CRC_2022_SV_React_Internship_Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">CRC_2022_SV_React_Internship_Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../Components_Home/" class="nav-link">Components Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../Methods_Home/" class="nav-link">Methods Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../Routers/" class="nav-link">Routers</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#cascading" class="nav-link">Cascading</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#cascading-in-filter-filterselector" class="nav-link">Cascading in Filter (FilterSelector)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#cascading-in-table-columnselector" class="nav-link">Cascading in Table (ColumnSelector)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="cascading">Cascading</h1>
<p>The Cascading is the component serving as a muti-levels menu which provides options for users to select. Same as the popular Cascading menu, our Cascading menu supports expansion and collapse according to the event of the cursor. Our Cascading menus based on a npm package called <a href="https://www.npmjs.com/package/mui-nested-menu">mui-nested-menu</a>, however we extract ChevronRight.js, IconMenuItem.js and NestedMenuItem.js to enable scrolling on nested menu. </p>
<p>The essential inputs for Cascading menu is a nested <a href="../../Methods/Flat_Files/">variable-tree</a> and a <a href="../../Methods/Flat_Files/">option-flat</a>. The Cascading menu does recursive call on the nested variable-tree and map each variable to the option-flat file to get a correct option label. </p>
<p>Those selected variables from Cascading menus are stored for other components, for example <a href="../Filter/">filter</a> and <a href="../Table/">table</a>. </p>
<p><code>isChildren(node)</code> -&gt; check if the node is valid.</p>
<pre><code class="language-javascript">  function isChildren(key) {
    if (key) return true;
    else return false
  }
</code></pre>
<p><code>isLast(node)</code> -&gt; check if the node is last node/tail. </p>
<pre><code class="language-javascript">  function isLast(node) {
    return node === null
  }
</code></pre>
<p><code>containsOnly(node)</code> -&gt; check if <code>dict[key]</code> contains only one variable. If there is only one variable, the recursive call will automatically extract it out to one level up. </p>
<pre><code class="language-javascript">  function containsOnly(node) {
    if (Object.keys(node).length === 1)
      return true;
    return false;
  }
</code></pre>
<p><code>renderTree(node)</code> -&gt; This example is from FilterSelector, and the <code>renderTree</code> in ColumnSelector is quite similar with that in FilterSelector. renderTree does recursive calls to nested variable-tree and render the menu. </p>
<pre><code class="language-javascript">    const renderTree = (nodes) =&gt; {
        return (
            Object.keys(nodes).map((key) =&gt;
                isChildren(key)
                    ? isLast(nodes[key])
                        ? &lt;MenuItem value={key} key={key} onClick={() =&gt; { handleOptionClick(key) }}&gt;
                            {options_flat[key].flatlabel}
                        &lt;/MenuItem&gt;
                        : containsOnly(nodes[key])
                            ? renderTree(nodes[key])
                            : &lt;NestedMenuItem
                                key={key}
                                label={options_flat[key].flatlabel}
                                parentMenuOpen={open}
                                onClick={handleClose}
                            &gt;
                                {renderTree(nodes[key])}
                            &lt;/NestedMenuItem&gt;
                    : null
            )
        )
    };
</code></pre>
<h2 id="cascading-in-filter-filterselector">Cascading in Filter (FilterSelector)</h2>
<p>There are some differences between FilterSelector cascading menu and ColumnSelector cascading menu. </p>
<p><code>handleOptionClick</code> in FilterSelector set the <code>filter_obj</code> when clicking event happens. </p>
<pre><code class="language-javascript">const handleOptionClick = (key) =&gt; {
    handleClose();
    if (key in filter_obj) {
        alert(&quot;The variable has been selected.&quot;)
    }
    else {
        set_filter_obj({ ...filter_obj, [key]: [] })
    }

}
</code></pre>
<p>Also, another differnce is that FilterSelector takes first level as a button not a menu, which means if the dict[key] is the only level in nested variable-tree, the cascading menu will not pop out, and the click events will happens on the button. </p>
<pre><code class="language-javascript">&lt;Button
    variant=&quot;text&quot;
    onClick={() =&gt; handleOptionClick(key)}
    style={{ maxWidth: '280px', maxHeight: '30px', color: &quot;#fff&quot; }}
&gt;
    {options_flat[key].flatlabel}
&lt;/Button&gt;
</code></pre>
<h2 id="cascading-in-table-columnselector">Cascading in Table (ColumnSelector)</h2>
<p><code>handleOptionClick</code> in ColumnSelector set the lists of visiable column options.</p>
<pre><code class="language-javascript">const handleOptionClick = (option) =&gt; {
    setColumnVisibilityModel({...columnVisibilityModel, [option]: true})
    handleClose();
}
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
